Requirement Level 1,Requirement Level 2,Requirement Level 3,Test Criteria,Test Type,Note,,,,,,,,,,,,,,,,,,,,,
Login & Logout,Login,Success,Login with valid credentials (Client),Function,JWT payload chứa {id},,,,,,,,,,,,,,,,,,,,,
,,,Login with valid Merchant (active),Function,FE lấy role từ /user/me,,,,,,,,,,,,,,,,,,,,,
,,,Login with valid Admin,Function,,,,,,,,,,,,,,,,,,,,,
,,,Redirect to /dashboard after login,Integration,client/app/containers/Login,,,,,,,,,,,,,,,,,,,
,,,JWT stored in localStorage,Integration,,,,,,,,,,,,,,,,,,,,,
,,,Authenticated call to /user/me returns profile + role,Integration,,,,,,,,,,,,,,,,,,,
,,,Session persists after reload,Integration,,,,,,,,,,,,,,,,,,,
,,Not success,Wrong password,Function,Returns "Invalid credentials",,,,,,,,,,,,,,,,,,,,
,,,Wrong email / User not found,Function,Returns "User doesn't exist",,,,,,,,,,,,,,,,,,,,
,,,Empty email,FE Validation,,,,,,,,,,,,,,,,,,,,,
,,,Empty password,FE Validation,,,,,,,,,,,,,,,,,,,,,
,,,"SQL-injection payload (""' OR 1=1 --"")",Security,Should return 400,,,,,,,,,,,,,,,,,,,
,,,Expired JWT used on protected route,Security,401,,,,,,,,,,,,,,,,,,,
,,,Tampered JWT,Security,401,,,,,,,,,,,,,,,,,,,
,Logout,Behavior,Logout removes token,Function,localStorage.clear(),,,,,,,,,,,,,,,,,,,,
,,,"After logout, protected routes return 401",Security,,,,,,,,,,,,,,,,,,,
,,,Back button shows cached UI but API calls fail,Integration,,,,,,,,,,,,,,,,,,,
Register & User Profile,Register,Success,Register with valid info,Function,Auto-login (returns token),,,,,,,,,,,,,,,,,,,,
,,,Unique email constraint,Function,BE returns error if email exists,,,,,,,,,,,,,,,,,,,
,,,Password hashed in DB,Security,Format: $2b$10$... (bcrypt),,,,,,,,,,,,,,,,,,,,
,,Validation,Email format invalid,FE Validation,Reject formats: user@, @domain, userdomain,,,,,,,,,,,,,,,,,,,
,,,Password < 6 chars,FE Validation,BE does not check length,,,,,,,,,,,,,,,,,,,
,,,Missing fields,Validation,Name, Email, Password required,,,,,,,,,,,,,,,,,,,
,User Profile,Success,View own profile /user/me,Function,,,,,,,,,,,,,,,,,,,,,
,,,Update firstName / lastName / phone,Function,FE controls fields,,,,,,,,,,,,,,,,,,,
,,Security (Actual Behavior),User modifies own role,Security / BUG,BE allows role change,,,,,,,,,,,,,,,,,,,
,,,User modifies provider,Security / BUG,BE allows,,,,,,,,,,,,,,,,,,,
,,,User edits merchant field,Security / BUG,BE allows,,,,,,,,,,,,,,,,,,,
,,,Unauthorized access (no token),Security,401,,,,,,,,,,,,,,,,,,,
Catalog & Product Browsing,Product Listing,Success,List products with pagination,Function,GET /api/v2/menu/foods,,,,,,,,,,,,,,,,,,,
,,,Sort by price asc/desc,Function,,,,,,,,,,,,,,,,,,,
,,,Sort by newest,Function,,,,,,,,,,,,,,,,,,,
,,,View product detail,Function,stock, images,,,,,,,,,,,,,,,,,,,
,Filter,Supported,Filter by ONE category,Function,API supports single slug,,,,,,,,,,,,,,,,,,,
,,,Filter by ONE brand,Function,,,,,,,,,,,,,,,,,,,
,,,Price slider,UI/Function,,,,,,,,,,,,,,,,,,,
,,,Rating slider,UI/Function,,,,,,,,,,,,,,,,,,,
,,NOT Supported (remove wrong tests),Multi-category filter,Invalid,Not in code,,,,,,,,,,,,,,,,,,,
,,,Filter by merchant,Invalid,No API support,,,,,,,,,,,,,,,,,,,
,Product Detail,Behavior,Correct product data displayed,Function,name, description, price, image,,,,,,,,,,,,,,,,,,,
,,,"Add to Cart disabled when stock = 0",Function,,,,,,,,,,,,,,,,,,,
,Search,Success,Search by keyword,Function,Real-time search (if implemented),,,,,,,,,,,,,,,,,,,,
,,,Empty search shows all products,Function,,,,,,,,,,,,,,,,,,,
,,Not Success,Search with non-existing keyword,Function,Shows "No results found",,,,,,,,,,,,,,,,,,,,
Cart,Cart Operations,Success,Add product to cart,Function,localStorage + API sync,,,,,,,,,,,,,,,,,,,
,,,Increase quantity,Function,min=1, max=stock,,,,,,,,,,,,,,,,,,,
,,,Reduce quantity,Function,min=1,,,,,,,,,,,,,,,,,,,
,,,Remove item,Function,Click delete or reduce to 0,,,,,,,,,,,,,,,,,,,
,,,Cart persists on reload,Integration,localStorage + DB sync,,,,,,,,,,,,,,,,,,,
,,Validation,Quantity cannot exceed stock,FE Validation,,,,,,,,,,,,,,,,,,,
,,,Quantity cannot be <1,FE Validation,,,,,,,,,,,,,,,,,,,
,,,Add to cart requires login,Security,Shows login popup if not authenticated,,,,,,,,,,,,,,,,,,,
,,Calculation,Calculate subtotal correctly,Function,sum(item.price × item.quantity),,,,,,,,,,,,,,,,,,,,
,,,Calculate delivery fee,Function,Fixed 20,000đ or dynamic,,,,,,,,,,,,,,,,,,,
,,,Calculate total amount,Function,subtotal + deliveryFee,,,,,,,,,,,,,,,,,,,
,,Empty Cart,Display empty cart message,Function,"Shows ""Your cart is empty""",,,,,,,,,,,,,,,,,,,,
,,,Disable checkout button,Function,,,,,,,,,,,,,,,,,,,
Wishlist,Add to Wishlist,Success,Add valid product to wishlist,Function,User logged in,,,,,,,,,,,,,,,,,,,
,,,Add same product twice should not duplicate,Function,BE currently prevents duplicate - Unique by user+product,,,,,,,,,,,,,,,,,,,
,,Not Success,Add wishlist without token,Security,Expect 401,,,,,,,,,,,,,,,,,,,
,,,Add wishlist with expired token,Security,Expect 401,,,,,,,,,,,,,,,,,,,
,,,Add wishlist with invalid product ID (malformed ObjectId),Function,Expected: 400 (CastError),,,,,,,,,,,,,,,,,,,,
,,,Add wishlist with non-existing but valid ObjectId,Function,Behavior TBD - BE currently does NOT check product existence,,,,,,,,,,,,,,,,,,,
,,Remove from Wishlist,Remove valid product from wishlist,Function,,,,,,,,,,,,,,,,,,,
,,,Remove product not in wishlist,Function,Expect 404 or no-op depending on implementation,,,,,,,,,,,,,,,,,,,
,,,Remove wishlist without token,Security,401,,,,,,,,,,,,,,,,,,,
Checkout,Checkout Flow,Success,Submit order with valid address + payment,Function,/order/add,,,,,,,,,,,,,,,,,,,
,,,Email sent to user,Integration,,,,,,,,,,,,,,,,,,,
,,Validation,Missing address,Function,400,,,,,,,,,,,,,,,,,,,
,,,Missing paymentMethod,Function,400,,,,,,,,,,,,,,,,,,,
,,BUG Behavior,Checkout without stock validation,Logic / BUG,BE doesn't check,,,,,,,,,,,,,,,,,,,
,,,Deleted/unavailable item allowed,Logic / BUG,,,,,,,,,,,,,,,,,,,
,,,No shipping fee logic,Not implemented,,,,,,,,,,,,,,,,,,,
,,,No voucher/discount,Not implemented,,,,,,,,,,,,,,,,,,,
Orders,Client Order Management,Success,View order history,Function,/order/me,,,,,,,,,,,,,,,,,,,
,,,View order detail,Function,,,,,,,,,,,,,,,,,,,
,,,Cancel order,Function,API deletes record,,,,,,,,,,,,,,,,,,,
,,BUG Behavior,Cancel any order regardless of status,Logic / BUG,No status check,,,,,,,,,,,,,,,,,,,
,,,User can cancel another user's order,Security / BUG,No owner check,,,,,,,,,,,,,,,,,,,
,Admin Order Tools,Success,Update order item status,Function,,,,,,,,,,,,,,,,,,,
,,Behaviors,No role check when updating item status,Security / BUG,Any logged-in user can update,,,,,,,,,,,,,,,,,,,
Admin user management,User Listing,Success,Admin list users,Function,pagination, projection,,,,,,,,,,,,,,,,,,,
,,,Admin search users,Function,regex,,,,,,,,,,,,,,,,,,,
,,BUG Behavior,Non-admin can access /user,Security / BUG,Missing role check,,,,,,,,,,,,,,,,,,,
Merchant onboarding,Merchant Application,Success,Submit merchant application,Function,,,,,,,,,,,,,,,,,,,
,,,Duplicate merchant email,Function,,,,,,,,,,,,,,,,,,,
,,,Missing fields,Validation,,,,,,,,,,,,,,,,,,,
,,Admin Merchant Management,Approve merchant - generates token,Function,,,,,,,,,,,,,,,,,,,
,,,Merchant signup using token,Function,creates brand,,,,,,,,,,,,,,,,,,,
,,,Reject merchant,Function,,,,,,,,,,,,,,,,,,,
,,,Deactivate merchant,Function,cascades disable brand,,,,,,,,,,,,,,,,,,,
,,BUG Behavior,Disabled merchant still login,Security / BUG,"FE warns, BE doesn't block",,,,,,,,,,,,,,,,,,,,
Product / Category / Brand CRUD,Admin CRUD,Success,Admin add product,Function,POST /api/v2/menu/foods,,,,,,,,,,,,,,,,,,,
,,,Edit product,Function,PUT /api/v2/menu/foods/:id,,,,,,,,,,,,,,,,,,,
,,,Delete product (Archive),Function,Soft delete,,,,,,,,,,,,,,,,,,,
,,,Upload image,Integration,Cloudinary upload,,,,,,,,,,,,,,,,,,,
,,,CRUD brand,Function,,,,,,,,,,,,,,,,,,,
,,,CRUD category,Function,,,,,,,,,,,,,,,,,,,
,,Validation,Duplicate slug,Validation,Unique constraint,,,,,,,,,,,,,,,,,,,
,,,Missing required fields,Validation,name, price, category required,,,,,,,,,,,,,,,,,,,
Reviews,User Reviews,Success,Leave review only for Delivered/Completed item,Function,,,,,,,,,,,,,,,,,,,
,,,Rating 1-5 validated,Validation,,,,,,,,,,,,,,,,,,,
,Admin Moderation,Success,Approve review,Function,,,,,,,,,,,,,,,,,,,
,,,Reject review,Function,,,,,,,,,,,,,,,,,,,
,,,Delete review,Function,,,,,,,,,,,,,,,,,,,
Support Chat,Chat,Actual Behavior,FE connects to socket,Integration / BUG,FE disabled connect(),,,,,,,,,,,,,,,,,,,,
,,,BE socket handler still active,Integration,,,,,,,,,,,,,,,,,,,
Security (Actual),JWT Security,Cases,Access protected route without token → 401,Security,,,,,,,,,,,,,,,,,,,
,,,Expired token,Security,401,,,,,,,,,,,,,,,,,,,
,,,Tampered token,Security,401,,,,,,,,,,,,,,,,,,,
,Data Access Security,BUG Cases,Update/delete address of another user,Security / BUG,No owner check,,,,,,,,,,,,,,,,,,,
,,,Cancel another user's order,Security / BUG,No owner check,,,,,,,,,,,,,,,,,,,
,,,Modify profile role/provider,Security / BUG,,,,,,,,,,,,,,,,,,,
,NoSQL Injection,Prevention,Malicious input: {"$ne": null},Security,Should be rejected or sanitized,,,,,,,,,,,,,,,,,,,
,,,Malicious input: {"$gt": ""},Security,Should be rejected,,,,,,,,,,,,,,,,,,,
Non-Functional (Actual),Compatibility,Browsers,Chrome,UI,Test on Chrome latest version,,,,,,,,,,,,,,,,,,,
,,,Firefox,UI,Test on Firefox latest version,,,,,,,,,,,,,,,,,,,
,,,Safari/Edge,UI,optional,,,,,,,,,,,,,,,,,,,
,Responsiveness,Layouts,Mobile layout,UI,Test on mobile devices (375px, 414px),,,,,,,,,,,,,,,,,,,,
,,,Tablet layout,UI,Test on tablet (768px, 1024px),,,,,,,,,,,,,,,,,,,,
,,,Desktop layout,UI,Test on desktop (1920px, 1440px),,,,,,,,,,,,,,,,,,,,
,Performance,API Response,Response time < 2s,Performance,For all API endpoints,,,,,,,,,,,,,,,,,,,
,,,Database query optimization,Performance,Use indexes, query < 100ms,,,,,,,,,,,,,,,,,,,
,Code Coverage,White Box,Statement coverage ≥80%,White Box,Jest coverage tool,,,,,,,,,,,,,,,,,,,
,,,Branch coverage ≥75%,White Box,Jest coverage tool,,,,,,,,,,,,,,,,,,,
,,,Function coverage ≥85%,White Box,Jest coverage tool,,,,,,,,,,,,,,,,,,,
