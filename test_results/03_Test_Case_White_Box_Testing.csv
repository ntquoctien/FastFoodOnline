TEST CASE LIST - WHITE BOX TESTING,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,
Project Name,FastFoodOnline,,,,,,,,,,,,,,,,,,,,,,,
Project Code,FFO,,,,,,,,,,,,,,,,,,,,,,,
Test Environment Setup Description,"1. Server
Requires Node.js 20 LTS and npm.
2. Code Coverage Tools
Jest với coverage reporter, Istanbul/nyc, Codecov
3. Testing Framework
Jest, Mocha for unit testing
4. Code Analysis
Static code analysis tools for security and quality",,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,
Module Code,White Box Testing,,,,,,,,Pass,,,,,,,,,,,,,,,,,
Test requirement,"This sheet contains test cases for White Box Testing, which tests internal code structure, logic, code coverage, and security. Tests cover Statement Coverage, Branch Coverage, Path Coverage, Loop Testing, Condition Coverage, Exception Handling, Middleware Testing, Data Flow Testing, Security Testing, and API Controller Testing.",,,,,,,,Fail,,,,,,,,,,,,,,,,,
Tester,Test Team,,,,,,,,,,,,,,,,,,,,,,,
Pass,Fail,Untested,N/A,Number of Test cases,,,,,Untested,,,,,,,,,,,,,,,,,
0,0,0,0,40,,,,,N/A,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,
ID,Test Case Description,Test Case Procedure,Expected Output,Test data,Result,Description,Pre-Condition,Priority,Module,Test Type,,,,,,,,,,,,,
FUNCTION STATEMENT COVERAGE,,,,,,,,,,,,,,,,,,,,,,,,,
TC-WB-STMT-001a,User login logic - User không tồn tại,"1. Gọi login function với email không tồn tại
2. Kiểm tra code coverage
3. Verify tất cả statements được cover","- Cover line 1, 3 (check user exists, return error)
- Statement coverage ≥ 80%
- All paths tested","Email: nonexistent@example.com
Password: any",,Không có,High,Statement Coverage,White Box,,,,,,,,,,,,,
TC-WB-STMT-001b,User login logic - Sai password,"1. Gọi login function với email đúng, password sai
2. Kiểm tra code coverage
3. Verify statements được cover","- Cover line 1, 4-6 (check user, verify password, return error)
- Statement coverage ≥ 80%
- All paths tested","Email: user@example.com
Password: WrongPassword",,"User tồn tại trong database",High,Statement Coverage,White Box,,,,,,,,,,,,,
TC-WB-STMT-001c,User login logic - Đăng nhập thành công,"1. Gọi login function với credentials hợp lệ
2. Kiểm tra code coverage
3. Verify all lines được cover","- Cover all lines (1-6)
- Statement coverage = 100%
- All paths tested","Email: user@example.com
Password: ValidPass123",,"User tồn tại trong database",High,Statement Coverage,White Box,,,,,,,,,,,,,
FUNCTION BRANCH COVERAGE,,,,,,,,,,,,,,,,,,,,,,,,,
TC-WB-BRANCH-001a,Order creation - items = [] (Branch 1 true),"1. Gọi createOrder với items = []
2. Kiểm tra branch coverage
3. Verify branch được cover","- Branch 1 (true): items empty → return error
- Branch coverage ≥ 75%
- All branches tested","items: []",,Không có,High,Branch Coverage,White Box,,,,,,,,,,,,,
TC-WB-BRANCH-001b,Order creation - items có data (Branch 1 false),"1. Gọi createOrder với items có data
2. Kiểm tra branch coverage
3. Verify branch được cover","- Branch 1 (false): items có data → continue
- Branch coverage ≥ 75%
- All branches tested","items: [{foodId: 1, quantity: 2}]",,Không có,High,Branch Coverage,White Box,,,,,,,,,,,,,
TC-WB-BRANCH-001c,Order creation - branchId invalid (Branch 2 true),"1. Gọi createOrder với branchId invalid
2. Kiểm tra branch coverage
3. Verify branch được cover","- Branch 2 (true): branch not found → return error
- Branch coverage ≥ 75%
- All branches tested","branchId: invalidId",,Không có,High,Branch Coverage,White Box,,,,,,,,,,,,,
TC-WB-BRANCH-001d,Order creation - branchId valid (Branch 2 false),"1. Gọi createOrder với branchId valid
2. Kiểm tra branch coverage
3. Verify branch được cover","- Branch 2 (false): branch exists → continue
- Branch coverage ≥ 75%
- All branches tested","branchId: validBranchId",,"Branch tồn tại trong database",High,Branch Coverage,White Box,,,,,,,,,,,,,
TC-WB-BRANCH-001e,Order creation - paymentMethod = ""ONLINE"" (Branch 3 true),"1. Gọi createOrder với paymentMethod = ""ONLINE""
2. Kiểm tra branch coverage
3. Verify branch được cover","- Branch 3 (true): paymentMethod = ""ONLINE"" → paymentStatus = ""PENDING""
- Branch coverage ≥ 75%
- All branches tested","paymentMethod: ONLINE",,Không có,High,Branch Coverage,White Box,,,,,,,,,,,,,
TC-WB-BRANCH-001f,Order creation - paymentMethod = ""COD"" (Branch 3 false),"1. Gọi createOrder với paymentMethod = ""COD""
2. Kiểm tra branch coverage
3. Verify branch được cover","- Branch 3 (false): paymentMethod = ""COD"" → paymentStatus = ""unpaid""
- Branch coverage ≥ 75%
- All branches tested","paymentMethod: COD",,Không có,High,Branch Coverage,White Box,,,,,,,,,,,,,
FUNCTION PATH COVERAGE,,,,,,,,,,,,,,,,,,,,,,,,,
TC-WB-PATH-001a,Cart add/remove - Add item lần đầu (Path 1),"1. Gọi addToCart với item chưa có trong cart
2. Kiểm tra path coverage
3. Verify path được cover","- Path 1: User exists, item chưa có → cartData[itemId] = 1
- Path coverage complete
- All paths tested","itemId: newItemId",,"User tồn tại, cart trống",High,Path Coverage,White Box,,,,,,,,,,,,,
TC-WB-PATH-001b,Cart add/remove - Add item đã có (Path 2),"1. Gọi addToCart với item đã có trong cart
2. Kiểm tra path coverage
3. Verify path được cover","- Path 2: User exists, item đã có → cartData[itemId] += 1
- Path coverage complete
- All paths tested","itemId: existingItemId",,"User tồn tại, item đã có trong cart",High,Path Coverage,White Box,,,,,,,,,,,,,
TC-WB-PATH-001c,Cart add/remove - userId invalid (Path 3),"1. Gọi addToCart với userId invalid
2. Kiểm tra path coverage
3. Verify path được cover","- Path 3: User không tồn tại → Error
- Path coverage complete
- All paths tested","userId: invalidUserId",,Không có,High,Path Coverage,White Box,,,,,,,,,,,,,
FUNCTION LOOP TESTING,,,,,,,,,,,,,,,,,,,,,,,,,
TC-WB-LOOP-001a,Calculate order total - items = [] (0 iterations),"1. Gọi calculateTotal với items = []
2. Kiểm tra loop coverage
3. Verify loop được cover","- 0 iterations
- Return total = 0
- Loop coverage complete","items: []",,Không có,Medium,Loop Testing,White Box,,,,,,,,,,,,,
TC-WB-LOOP-001b,Calculate order total - items có 1 phần tử (1 iteration),"1. Gọi calculateTotal với items có 1 phần tử
2. Kiểm tra loop coverage
3. Verify loop được cover","- 1 iteration
- Return total = item.quantity * item.unitPrice
- Loop coverage complete","items: [{quantity: 2, unitPrice: 50000}]",,Không có,Medium,Loop Testing,White Box,,,,,,,,,,,,,
TC-WB-LOOP-001c,Calculate order total - items có nhiều phần tử (N iterations),"1. Gọi calculateTotal với items có nhiều phần tử
2. Kiểm tra loop coverage
3. Verify loop được cover","- N iterations
- Return total = sum of all items
- Loop coverage complete","items: [{quantity: 2, unitPrice: 50000}, {quantity: 1, unitPrice: 30000}]",,Không có,Medium,Loop Testing,White Box,,,,,,,,,,,,,
TC-WB-LOOP-001d,Calculate order total - items = null (Error handling),"1. Gọi calculateTotal với items = null
2. Kiểm tra error handling
3. Verify error được handle","- Error handling
- Throw appropriate error
- Error handling coverage complete","items: null",,Không có,Medium,Loop Testing,White Box,,,,,,,,,,,,,
FUNCTION CONDITION COVERAGE,,,,,,,,,,,,,,,,,,,,,,,,,
TC-WB-COND-001a,Order status validation - status = ""CREATED"" (True),"1. Gọi canCancelOrder với status = ""CREATED""
2. Kiểm tra condition coverage
3. Verify condition được cover","- status = ""CREATED"" → true
- Condition coverage complete
- All conditions tested","status: CREATED",,Không có,High,Condition Coverage,White Box,,,,,,,,,,,,,
TC-WB-COND-001b,Order status validation - status = ""PREPARING"" (True),"1. Gọi canCancelOrder với status = ""PREPARING""
2. Kiểm tra condition coverage
3. Verify condition được cover","- status = ""PREPARING"" → true
- Condition coverage complete
- All conditions tested","status: PREPARING",,Không có,High,Condition Coverage,White Box,,,,,,,,,,,,,
TC-WB-COND-001c,Order status validation - status = ""DELIVERING"" (False),"1. Gọi canCancelOrder với status = ""DELIVERING""
2. Kiểm tra condition coverage
3. Verify condition được cover","- status = ""DELIVERING"" → false
- Condition coverage complete
- All conditions tested","status: DELIVERING",,Không có,High,Condition Coverage,White Box,,,,,,,,,,,,,
FUNCTION EXCEPTION HANDLING,,,,,,,,,,,,,,,,,,,,,,,,,
TC-WB-EXC-001a,Database connection error - Database disconnect,"1. Simulate database disconnect
2. Gọi function query database
3. Kiểm tra exception handling","- Catch block được thực thi
- Error được handle đúng
- Exception handling coverage complete",,,"Database disconnect",High,Exception Handling,White Box,,,,,,,,,,,,,
TC-WB-EXC-001b,Database connection error - Normal operation,"1. Database connected
2. Gọi function query database
3. Kiểm tra exception handling","- Try block thành công
- No exception thrown
- Exception handling coverage complete",,,"Database connected",High,Exception Handling,White Box,,,,,,,,,,,,,
FUNCTION MIDDLEWARE TESTING,,,,,,,,,,,,,,,,,,,,,,,,,
TC-WB-MW-001a,Auth middleware - No token,"1. Gọi protected API không có token
2. Kiểm tra middleware
3. Verify middleware hoạt động","- Return ""Not Authorized""
- Middleware block request
- Middleware coverage complete",,,"Không có token",High,Middleware Testing,White Box,,,,,,,,,,,,,
TC-WB-MW-001b,Auth middleware - Invalid token,"1. Gọi protected API với invalid token
2. Kiểm tra middleware
3. Verify middleware hoạt động","- Catch block, ""Invalid token""
- Middleware block request
- Middleware coverage complete","token: invalidToken",,Không có,High,Middleware Testing,White Box,,,,,,,,,,,,,
TC-WB-MW-001c,Auth middleware - Valid token,"1. Gọi protected API với valid token
2. Kiểm tra middleware
3. Verify middleware hoạt động","- Call next(), set req.userId
- Request được allow
- Middleware coverage complete","token: validToken",,"Có valid JWT token",High,Middleware Testing,White Box,,,,,,,,,,,,,
FUNCTION DATA FLOW TESTING,,,,,,,,,,,,,,,,,,,,,,,,,
TC-WB-DF-001a,Order creation - Trace subtotal,"1. Gọi createOrder
2. Trace subtotal variable lifecycle
3. Verify data flow","- Trace subtotal: def → use → redef → use
- Data flow coverage complete
- All definitions and uses covered",,,"Đã đăng nhập",Medium,Data Flow Testing,White Box,,,,,,,,,,,,,
TC-WB-DF-001b,Order creation - Trace deliveryFee,"1. Gọi createOrder
2. Trace deliveryFee variable lifecycle
3. Verify data flow","- Trace deliveryFee: def → use
- Data flow coverage complete
- All definitions and uses covered",,,"Đã đăng nhập",Medium,Data Flow Testing,White Box,,,,,,,,,,,,,
TC-WB-DF-001c,Order creation - Trace totalAmount,"1. Gọi createOrder
2. Trace totalAmount variable lifecycle
3. Verify data flow","- Trace totalAmount: def → use
- Data flow coverage complete
- All definitions and uses covered",,,"Đã đăng nhập",Medium,Data Flow Testing,White Box,,,,,,,,,,,,,
FUNCTION SECURITY TESTING,,,,,,,,,,,,,,,,,,,,,,,,,
TC-WB-SEC-001a,SQL/NoSQL Injection - MongoDB operator injection,"1. Gửi request với email: {""$ne"": null}
2. Kiểm tra security
3. Verify injection được prevent","- Should be rejected
- Injection attack blocked
- Security coverage complete","email: {""$ne"": null}",,Không có,High,Security Testing,White Box,,,,,,,,,,,,,
TC-WB-SEC-001b,SQL/NoSQL Injection - Normal input,"1. Gửi request với email hợp lệ
2. Kiểm tra security
3. Verify normal operation","- Normal operation
- No injection detected
- Security coverage complete","email: email@example.com",,Không có,High,Security Testing,White Box,,,,,,,,,,,,,
TC-WB-SEC-002a,XSS Prevention - Script tag in input,"1. Submit food name với script tag
2. Kiểm tra XSS prevention
3. Verify script được escape","- Script được escape hoặc sanitize
- XSS attack prevented
- Security coverage complete","name: <script>alert('XSS')</script>",,Không có,High,Security Testing,White Box,,,,,,,,,,,,,
TC-WB-SEC-003a,Password strength validation - Weak password,"1. Submit password = ""123""
2. Kiểm tra validation
3. Verify password strength check","- Reject
- Password strength validation works
- Security coverage complete","password: 123",,Không có,High,Security Testing,White Box,,,,,,,,,,,,,
TC-WB-SEC-003b,Password strength validation - Strong password,"1. Submit password = ""Test@1234""
2. Kiểm tra validation
3. Verify password strength check","- Accept
- Password strength validation works
- Security coverage complete","password: Test@1234",,Không có,High,Security Testing,White Box,,,,,,,,,,,,,
FUNCTION API CONTROLLER TESTING,,,,,,,,,,,,,,,,,,,,,,,,,
TC-WB-API-001a,Order controller - Valid orderId,"1. Gọi getOrderByIdV2 với valid orderId
2. Kiểm tra controller
3. Verify controller hoạt động","- Return order
- Controller hoạt động đúng
- Controller coverage complete","orderId: validOrderId",,"Có order trong database",High,API Controller Testing,White Box,,,,,,,,,,,,,
TC-WB-API-001b,Order controller - Invalid orderId,"1. Gọi getOrderByIdV2 với invalid orderId
2. Kiểm tra controller
3. Verify controller hoạt động","- 404 error
- Controller handle error đúng
- Controller coverage complete","orderId: invalidOrderId",,Không có,High,API Controller Testing,White Box,,,,,,,,,,,,,
TC-WB-API-001c,Order controller - User not authorized,"1. Gọi getOrderByIdV2 với user không authorized
2. Kiểm tra controller
3. Verify controller hoạt động","- 403 error
- Controller handle authorization đúng
- Controller coverage complete",,,"User không có quyền truy cập order",High,API Controller Testing,White Box,,,,,,,,,,,,,
TC-WB-API-001d,Order controller - Database error,"1. Simulate database error
2. Gọi getOrderByIdV2
3. Kiểm tra controller
4. Verify controller hoạt động","- 500 error
- Controller handle error đúng
- Controller coverage complete",,,"Database error",High,API Controller Testing,White Box,,,,,,,,,,,,,
FUNCTION INTEGRATION POINTS,,,,,,,,,,,,,,,,,,,,,,,,,
TC-WB-INT-001a,VNPAY integration - Verify signature algorithm,"1. Gọi createPaymentUrl
2. Kiểm tra signature algorithm
3. Verify signature được tính đúng","- Signature algorithm correct
- Signature được verify
- Integration coverage complete",,,"Có order với VNPAY",High,Integration Points,White Box,,,,,,,,,,,,,
TC-WB-INT-001b,VNPAY integration - Verify URL format,"1. Gọi createPaymentUrl
2. Kiểm tra URL format
3. Verify URL đúng format","- URL format correct
- URL có đầy đủ parameters
- Integration coverage complete",,,"Có order với VNPAY",High,Integration Points,White Box,,,,,,,,,,,,,
TC-WB-INT-001c,VNPAY integration - Verify parameter sorting,"1. Gọi createPaymentUrl
2. Kiểm tra parameter sorting
3. Verify parameters được sort đúng","- Parameters được sort đúng
- Signature calculation correct
- Integration coverage complete",,,"Có order với VNPAY",High,Integration Points,White Box,,,,,,,,,,,,,
FUNCTION PERFORMANCE TESTING,,,,,,,,,,,,,,,,,,,,,,,,,
TC-WB-PERF-001,Query optimization - Measure execution time,"1. Query với 1000 orders
2. Measure execution time
3. So sánh performance với/không có .lean()
4. Kiểm tra index usage","- Execution time < 2s
- Index được sử dụng
- Performance tốt",,,"Có 1000 orders trong database",Medium,Performance Testing,White Box,,,,,,,,,,,,,
CODE COVERAGE TARGET,,,,,,,,,,,,,,,,,,,,,,,,,
TC-WB-COV-001,Statement Coverage Target,"1. Run test suite với coverage
2. Kiểm tra statement coverage
3. Verify coverage target","- Statement Coverage: ≥ 80%
- Coverage target met
- Coverage report generated",,,"Có test suite",High,Code Coverage,White Box,,,,,,,,,,,,,
TC-WB-COV-002,Branch Coverage Target,"1. Run test suite với coverage
2. Kiểm tra branch coverage
3. Verify coverage target","- Branch Coverage: ≥ 75%
- Coverage target met
- Coverage report generated",,,"Có test suite",High,Code Coverage,White Box,,,,,,,,,,,,,
TC-WB-COV-003,Function Coverage Target,"1. Run test suite với coverage
2. Kiểm tra function coverage
3. Verify coverage target","- Function Coverage: ≥ 85%
- Coverage target met
- Coverage report generated",,,"Có test suite",High,Code Coverage,White Box,,,,,,,,,,,,,
TC-WB-COV-004,Line Coverage Target,"1. Run test suite với coverage
2. Kiểm tra line coverage
3. Verify coverage target","- Line Coverage: ≥ 80%
- Coverage target met
- Coverage report generated",,,"Có test suite",High,Code Coverage,White Box,,,,,,,,,,,,,

